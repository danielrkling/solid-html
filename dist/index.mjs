import{ErrorBoundary as e,For as t,Index as n,Match as r,Show as i,Suspense as a,Switch as o,createComponent as s}from"solid-js";import{DelegatedEvents as ee,Dynamic as te,ErrorBoundary as ne,For as c,Index as l,Match as u,NoHydration as re,Portal as d,SVGElements as ie,Show as f,Suspense as p,Switch as ae,addEventListener as oe,delegateEvents as se,effect as m,insert as h}from"solid-js/web";import{SyntaxKind as ce,parse as le}from"html5parser";function g(e){return typeof e==`function`?e():e}function _(e,t,n){return s(i,{get when(){return e()},children:t,get fallback(){return n?.()},keyed:!1})}function v(e,t,n){return s(i,{get when(){return e()},children:t,get fallback(){return n?.()},keyed:!0})}function ue(e,t){return s(o,{get fallback(){return t()},get children(){return e()}})}function de(e,t){return s(r,{get when(){return e()},children:t})}function y(e,t){return s(r,{get when(){return e()},children:t,keyed:!0})}function fe(e,n,r){return s(t,{get each(){return e()},children:n,get fallback(){return r?.()}})}function pe(e,t,r){return s(n,{get each(){return e()},children:t,get fallback(){return r?.()}})}function me(e,t){return s(a,{get children(){return e()},get fallback(){return t?.()}})}function he(t,n){return s(e,{get children(){return t()},fallback:n})}function ge(e,t,n){return s(e.Provider,{get children(){return n()},value:t})}function b(e){return typeof e==`string`}function x(e){return typeof e==`function`}const _e=Array.from,S=document;function C(e,t,n,r){return r&&e.removeEventListener(t,r),n&&e.addEventListener(t,n),n}function w(e,t,n,r){t=t.toLowerCase();let i=ee.has(t);return oe(e,t,n,i),i&&se([t]),n}function T(e,t,n,r){return e[t]=n,n}function E(e,t,n,r){return n?e.setAttribute(t,``):e.removeAttribute(t),n}function D(e,t,n,r){return n==null?(e.removeAttribute(t),n):(e.setAttribute(t,n),n)}function O(e,t,n,r,i){return r==null?(t.removeAttributeNS(e,n),r):(t.setAttributeNS(e,n,r),r)}function k(e,t,n,r){return e.classList.toggle(t,!!n),n}function A(e,t,n,r){return e.style[t]=n||``,n}function j(e,t,n,r){x(n)&&n(e)}function M(e,t,n,r,i){if(r===i)return r;if(n===`children`)return h(t,r);for(let a of e){let{filter:e,assign:o,isReactive:s=!0}=a;if(b(e)&&n.startsWith(e))n=n.slice(e.length);else if(x(e))n=e(t,n,r,i);else continue;if(n)return x(r)&&s?m(()=>i=o(t,n,r(),i)):o(t,n,r,i),i}}function N(e,t,n,r={}){if(x(n))m(()=>{for(let[i,a]of Object.entries(n()))r[i]=M(e,t,i,a,r[i])});else for(let[i,a]of Object.entries(n))r[i]=M(e,t,i,a,r[i]);return r}const P=`⧙⧘`,F=RegExp(`${P}(\\d+)${P}`,`g`),I=new WeakMap,L=S.createTreeWalker(S,133);function ve(e){let t=I.get(e);if(!t){let n=le(e.slice(1).reduce((e,t,n)=>e+P+n+P+t,e[0])),r=n.flatMap(e=>U(e)),i=W(r);t={type:`root`,children:r,template:i},I.set(e,t)}return t}function R(e){return e.length===1?e[0]:e}function z(e){for(;x(e);)e=e();return e}function B(e={},t=[],n=!0){function r(e,...t){let i=ve(e);function a(e,n){let i=e.content.cloneNode(!0);L.currentNode=i,a(n.children);function a(e){e.forEach(e=>{let n=L.nextNode();if(e.type===`element`){for(let[i,a]of e.props){let e=V(a,t);M(r.h.rules,n,i,e.length===1?e[0]:()=>e.map(z).join(``))}a(e.children)}else (e.type===`insert`||e.type===`component`)&&(h(n.parentNode,o(e),n),L.currentNode=n)})}return _e(i.childNodes)}function o(e){if(e.type===`text`)return e.value;if(e.type===`insert`)return t[e.value];if(e.type===`comment`)return S.createComment(e.value);let i={};for(let[n,r]of e.props){let e=V(r,t);i[n]=e.length===1?e[0]:()=>e.map(z)}return e.children.length&&(e.type===`component`&&e.template&&n?i.children=()=>a(e.template,e):i.children=()=>R(e.children.map(o))),r.h(e.name,i)}return i.template&&n?a(i.template,i):R(i.children.map(o))}return r.h=X(e,t),r}function V(e,t){return e.map(e=>b(e)?e:t[e])}function H(e=``){return e.split(F).map((e,t)=>t%2==1?Number(e):e).filter(e=>!b(e)||e.trim())}function U(e){if(e.type===ce.Text){let t=H(e.value);return t.map(e=>{let t=b(e)?`text`:`insert`;return{type:t,value:e}})}if(e.name[0]===`!`||e.name===``)return{type:`comment`,value:e.body[0].value};let t=e.attributes.map(e=>[e.name.value,H(e.value?.value)]),n=e.body?.flatMap(e=>U(e))??[];return/^[A-Z]/.test(e.rawName)?{type:`component`,name:e.rawName,props:t,children:n,template:W(n)}:{type:`element`,name:e.name,props:t,children:n}}function W(e){if(e.some(e=>e.type===`element`)){let t=S.createElement(`template`);return G(e,t.content),t}}function G(e,t){e.forEach((e,n)=>{if(e.type===`text`)t.appendChild(S.createTextNode(e.value));else if(e.type===`comment`)t.appendChild(S.createComment(e.value));else if(e.type===`insert`)t.appendChild(S.createComment(e.type));else if(e.type===`component`)t.appendChild(S.createComment(e.name));else if(e.type===`element`){let n=Z(e.name);t.appendChild(n),G(e.children,n)}})}const K=[{filter:`on:`,assign:C,isReactive:!1},{filter:`on`,assign:w,isReactive:!1},{filter:`prop:`,assign:T},{filter:`bool:`,assign:E},{filter:`attr:`,assign:D},{filter:`ref:`,assign:j,isReactive:!1},{filter:`class:`,assign:k},{filter:`style:`,assign:A},{filter:`@`,assign:w,isReactive:!1},{filter:`.`,assign:T},{filter:`?`,assign:E},{filter:``,assign:D}],q={For:c,Index:l,Match:u,Suspense:p,ErrorBoundary:ne,Show:f,Switch:ae,Dynamic:te,Portal:d,NoHydration:re},ye=[`on`,`prop`,`bool`,`attr`,`ref`,`style`,`class`,`xlink`],J=X(),Y=B();Y.h=J;function X(e={},t=[]){function n(e,t,...r){if(r.length===1?t.children=r[0]:r.length>1&&(t.children=r),x(e))return s(e,$(t));if(b(e)){let r=n.components[e];if(r)return s(r,$(t));/[A-Z]/.test(e)&&console.warn(`Forgot to define ${r}`);let i=Z(e);return N(n.rules,i,t),i}}return n.components={...q,...e},n.define=e=>{Object.assign(n.components,e)},n.rules=[...t,...K],n}Symbol(`CommentNode`);function Z(e){return ie.has(e)?S.createElementNS(`http://www.w3.org/2000/svg`,e):S.createElement(e)}const Q=new WeakSet;function be(e){return x(e)&&Q.add(e),e}function $(e={}){for(let[t,n]of Object.entries(Object.getOwnPropertyDescriptors(e))){let r=n.value;x(r)&&r.length===0&&!Q.has(r)&&Object.defineProperty(e,t,{get(){return r()},enumerable:!0})}return e}export{ge as Context,he as ErrorBoundary,fe as For,X as H,B as HTML,pe as Index,de as Match,y as MatchKeyed,_ as Show,v as ShowKeyed,me as Suspense,ue as Switch,M as assign,D as assignAttribute,O as assignAttributeNS,E as assignBooleanAttribute,k as assignClass,w as assignDelegatedEvent,C as assignEvent,T as assignProperty,j as assignRef,A as assignStyle,Z as createElement,q as defaultComponents,K as defaultRules,g as getValue,J as h,Y as html,Q as markedOnce,be as once,N as spread,$ as wrapProps,ye as xmlNamespaces};
//# sourceMappingURL=index.mjs.map