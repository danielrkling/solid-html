import{ErrorBoundary as e,For as t,Index as n,Match as r,Show as i,Suspense as a,Switch as o,createComponent as s}from"solid-js";import{DelegatedEvents as ee,Dynamic as te,ErrorBoundary as c,For as l,Index as u,Match as d,NoHydration as f,Portal as ne,SVGElements as re,Show as ie,Suspense as ae,Switch as oe,addEventListener as p,delegateEvents as m,effect as h,insert as g}from"solid-js/web";import{SyntaxKind as _,parse as se}from"html5parser";function v(e){return typeof e==`string`}function y(e){return typeof e==`number`}function b(e){return typeof e==`function`}function x(e){return typeof e==`boolean`}const ce=Array.from,S=document,C=e=>S.createComment(e);function w(e){return re.has(e)?S.createElementNS(`http://www.w3.org/2000/svg`,e):S.createElement(e)}function T(e){return e.length===1?e[0]:e}function E(e){for(;b(e);)e=e();return e}function D(e,t,n,r){return r&&e.removeEventListener(t,r),n&&e.addEventListener(t,n),n}function O(e,t,n,r){t=t.toLowerCase();let i=ee.has(t);return p(e,t,n,i),i&&m([t]),n}function k(e,t,n,r){return e[t]=n,n}function A(e,t,n,r){return n?e.setAttribute(t,``):e.removeAttribute(t),n}function j(e,t,n,r){return n==null?(e.removeAttribute(t),n):(e.setAttribute(t,n),n)}function le(e,t,n,r,i){return r==null?(t.removeAttributeNS(e,n),r):(t.setAttributeNS(e,n,r),r)}function M(e,t,n,r){return e.classList.toggle(t,!!n),n}function N(e,t,n,r){return e.style[t]=n||``,n}function P(e,t,n,r){b(n)&&n(e)}function F(e,t,n,r,i){if(r===i)return r;if(n===`children`)return g(t,r);if(n===`ref`)return P(t,n,r,i);if(n===`...`)return I(e,t,r,i);for(let a of e){let{filter:e,assign:o,isReactive:s=!0}=a;if(v(e)&&n.startsWith(e))n=n.slice(e.length);else if(b(e))n=e(t,n,r,i);else continue;if(n)return b(r)&&s?h(()=>i=o(t,n,r(),i)):o(t,n,r,i),i}}function I(e,t,n,r={}){if(b(n))h(()=>{for(let[i,a]of Object.entries(n()))r[i]=F(e,t,i,a,r[i])});else for(let[i,a]of Object.entries(n))r[i]=F(e,t,i,a,r[i]);return r}const L=`⧙⧘`,R=RegExp(`${L}(\\d+)${L}`,`g`),z=new WeakMap,B=S.createTreeWalker(S,133);function V(e){let t=z.get(e);if(!t){let n=se(e.slice(1).reduce((e,t,n)=>e+L+n+L+t,e[0])),r=n.flatMap(e=>W(e)),i=G(r);t={children:r,template:i},z.set(e,t)}return t}function H(e={},t=[]){function n(e,...t){let r=V(e);function i(e,r){let i=e.content.cloneNode(!0);B.currentNode=i,o(r.children);function o(e){for(let r of e){let e=B.nextNode();if(r.type===5){for(let[i,a]of r.props){if(v(a)||x(a))continue;F(n.h.rules,e,i,y(a)?t[a]:()=>a.map(e=>y(e)?E(t[e]):e).join(``))}o(r.children)}else (r.type===3||r.type===4)&&(g(e.parentNode,a(r),e),B.currentNode=e)}}return ce(i.childNodes)}function a(e){switch(e.type){case 1:return e.value;case 3:return t[e.value];case 2:return C(e.value)}let r=e.type===4&&e.template,o={};for(let[n,r]of e.props)n===`...`?Object.assign(o,t[r]):o[n]=v(r)||x(r)?r:y(r)?t[r]:()=>r.map(e=>y(e)?E(t[e]):e).join(``);return e.children.length&&(o.children=r?()=>i(r,e):()=>T(e.children.map(a))),n.h(e.name,o)}return r.template?i(r.template,r):T(r.children.map(a))}return n.h=Z(e,t),n}function U(e=``){return e.split(R).map((e,t)=>t%2==1?Number(e):e).filter(e=>y(e)||e.trim())}function W(e){if(e.type===_.Text){let t=U(e.value);return t.map(e=>{let t=v(e)?1:3;return{type:t,value:e}})}if(e.name[0]===`!`||e.name===``)return{type:2,value:e.body[0].value};let t=e.attributes.map(e=>{let t=U(e.name.value);if(t.length===1){let n=t[0];if(v(n)){let t=U(e.value?.value);return t.length===0?[n,!0]:t.length===1?[n,t[0]]:[n,t]}else return[`ref`,n]}else return[t[0],t[1]]}),n=e.body?.flatMap(e=>W(e))??[];return/^[A-Z]/.test(e.rawName)?{type:4,name:e.rawName,props:t,children:n,template:G(n)}:{type:5,name:e.name,props:t,children:n}}function G(e){if(e.some(e=>e.type===5)){let t=S.createElement(`template`);return K(e,t.content),t}}function K(e,t){for(let n of e)switch(n.type){case 1:t.appendChild(S.createTextNode(n.value));break;case 2:t.appendChild(C(n.value));break;case 3:t.appendChild(C(`+`));break;case 4:t.appendChild(C(n.name));break;case 5:let e=w(n.name);t.appendChild(e),n.props.forEach(([t,n])=>{v(n)&&e.setAttribute(t,n)}),K(n.children,e);break}}const q=[{filter:`on:`,assign:D,isReactive:!1},{filter:`on`,assign:O,isReactive:!1},{filter:`prop:`,assign:k},{filter:`bool:`,assign:A},{filter:`attr:`,assign:j},{filter:`ref:`,assign:P,isReactive:!1},{filter:`class:`,assign:M},{filter:`style:`,assign:N},{filter:`@`,assign:O,isReactive:!1},{filter:`.`,assign:k},{filter:`?`,assign:A},{filter:``,assign:j}],J={For:l,Index:u,Match:d,Suspense:ae,ErrorBoundary:c,Show:ie,Switch:oe,Dynamic:te,Portal:ne,NoHydration:f},Y=Z(),X=H();X.h=Y;function Z(e={},t=[]){function n(e,t,...r){if(r.length&&(t.children=T(r)),b(e))return s(e,$(t));if(v(e)){let r=n.components[e];if(r)return s(r,$(t));/^[A-Z]/.test(e)&&console.warn(`Forgot to define ${r}`);let i=w(e);return I(n.rules,i,t),i}}return n.components={...J,...e},n.define=e=>{Object.assign(n.components,e)},n.rules=[...t,...q],n}const Q=new WeakSet;function ue(e){return b(e)&&Q.add(e),e}function $(e={}){for(let[t,{value:n}]of Object.entries(Object.getOwnPropertyDescriptors(e)))b(n)&&n.length===0&&!Q.has(n)&&Object.defineProperty(e,t,{get(){return n()},enumerable:!0});return e}function de(e,t,n){return s(i,{get when(){return e()},children:t,get fallback(){return n?.()},keyed:!1})}function fe(e,t,n){return s(i,{get when(){return e()},children:t,get fallback(){return n?.()},keyed:!0})}function pe(e,t){return s(o,{get fallback(){return t()},get children(){return e()}})}function me(e,t){return s(r,{get when(){return e()},children:t})}function he(e,t){return s(r,{get when(){return e()},children:t,keyed:!0})}function ge(e,n,r){return s(t,{get each(){return e()},children:n,get fallback(){return r?.()}})}function _e(e,t,r){return s(n,{get each(){return e()},children:t,get fallback(){return r?.()}})}function ve(e,t){return s(a,{get children(){return e()},get fallback(){return t?.()}})}function ye(t,n){return s(e,{get children(){return t()},fallback:n})}function be(e,t,n){return s(e.Provider,{get children(){return n()},value:t})}export{be as Context,ye as ErrorBoundary,ge as For,Z as H,H as HTML,_e as Index,me as Match,he as MatchKeyed,de as Show,fe as ShowKeyed,ve as Suspense,pe as Switch,F as assign,j as assignAttribute,le as assignAttributeNS,A as assignBooleanAttribute,M as assignClass,O as assignDelegatedEvent,D as assignEvent,k as assignProperty,P as assignRef,N as assignStyle,J as defaultComponents,q as defaultRules,Y as h,X as html,Q as markedOnce,ue as once,I as spread,$ as wrapProps};
//# sourceMappingURL=index.mjs.map